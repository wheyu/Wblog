function initEncryptedContent(){document.querySelectorAll(".encrypted").forEach(t=>{t.dataset.initialized||(t.dataset.initialized="true",t.addEventListener("click",async function e(){const n=prompt("请输入密码：");if(!n)return;const r=t.dataset.content;if(n===t.dataset.password)try{const d=await decryptCryptoJS(r,n);if(!d)return void alert("解密失败");t.innerHTML=`<div style="background: #d1fae5; border: 2px solid #10b981; padding: 1rem; border-radius: 8px; color: #065f46;">${d}</div>`,t.classList.remove("encrypted"),t.style.cursor="default",t.removeEventListener("click",e)}catch(t){alert("解密失败: "+t.message),console.error("解密错误:",t)}else alert("密码错误")}))})}document.addEventListener("DOMContentLoaded",initEncryptedContent),window.addEventListener("spa:pageload",initEncryptedContent),window.initEncryptedContent=initEncryptedContent;